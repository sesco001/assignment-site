<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login - Assignment Pro</title>
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-50 font-sans">

<div class="flex items-center justify-center min-h-screen">
  <div class="bg-white p-8 rounded-xl shadow-md w-full max-w-md">
    <h2 class="text-2xl font-bold text-center mb-6">Login</h2>
    <form id="loginForm">
      <label class="block mb-2 font-semibold">Email</label>
      <input type="email" id="email" class="w-full p-3 border rounded-lg mb-4" required>

      <label class="block mb-2 font-semibold">Password</label>
      <input type="password" id="password" class="w-full p-3 border rounded-lg mb-4" required>

      <label class="block mb-2 font-semibold">Login as</label>
      <select id="role" class="w-full p-3 border rounded-lg mb-4" required>
        <option value="user">User (Student)</option>
        <option value="admin">Admin</option>
      </select>

      <button type="submit" class="w-full bg-blue-900 text-white font-bold py-3 rounded-lg">Login</button>
    </form>
    <p class="text-center mt-4">Donâ€™t have an account? 
      <a href="signup.html" class="text-blue-900 font-bold">Sign Up</a>
    </p>
  </div>
</div>

<script>
// Test users JSON
const users = [
  {
    id: 1,
    full_name: "Admin User",
    email: "marcasmatheka@gmail.com",
    password: "12345678",
    role: "admin"
  },
  {
    id: 2,
    full_name: "John Doe",
    email: "johndoe@example.com",
    password: "12345678",
    role: "user"
  },
  {
    id: 3,
    full_name: "Admin Two",
    email: "admin2@example.com",
    password: "admin1234",
    role: "admin"
  }
];

document.getElementById("loginForm").addEventListener("submit", function(e){
  e.preventDefault();
  const email = document.getElementById("email").value;
  const password = document.getElementById("password").value;
  const role = document.getElementById("role").value;

  const user = users.find(u => u.email === email && u.password === password && u.role === role);
  if(user){
    localStorage.setItem("user", JSON.stringify(user));
    if(role === "admin") window.location.href = "admin.html";
    else window.location.href = "dashboard.html";
  } else {
    alert("Invalid credentials or role!");
  }
});
</script>

</body>
</html>
